# æ¥å…¥å›½é™…åŒ–

å›½é™…åŒ–å¯¹äºä¸€ä¸ªæ–‡æ¡£ç±»çš„ç«™ç‚¹æ¥è¯´æ˜¯ååˆ†é‡è¦çš„ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©ä½ çš„ç«™ç‚¹æ›´åŠ çš„é€‚åº”ä¸åŒçš„è¯­è¨€ç¯å¢ƒå’Œå—ä¼—ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¼šä»‹ç»å¦‚ä½•åœ¨ä½ çš„ Island.js ç«™ç‚¹ä¸­ä½¿ç”¨å›½é™…åŒ–ã€‚

<CH.Spotlight>

```ts config.ts
import { defineConfig } from "vite";

export default defineConfig({
  locales: {
    "/en/": {
      lang: "en-US",
      title: "My Site",
      description: "My site",
    },
    "/zh/": {
      lang: "zh-CN",
      title: "æˆ‘çš„ç«™ç‚¹",
      description: "æˆ‘çš„ç«™ç‚¹",
    },
  },
});
```

---

**Step 1**

åˆå§‹åŒ– `locales` é…ç½®ï¼š

```ts config.ts focus=4:15

```

---

**Step 2**

åˆå§‹åŒ–å·¥å…·å‡½æ•°ï¼š

```ts config.ts
import { defineConfig } from "vite";

function getI18nHelper(lang: "zh" | "en") {
  const cn = lang === "zh";
  const prefix = cn ? "/zh" : "/en";
  // ç”¨äºç”Ÿæˆå¸¦è¯­è¨€å‰ç¼€çš„é“¾æ¥
  const getLink = (str: string) => `${prefix}${str}`;
  // ç”¨äºç”Ÿæˆä¸åŒè¯­è¨€çš„æ–‡æœ¬
  const getText = (cnText: string, enText: string) => (cn ? cnText : enText);
  return { getText, getLink };
}

export default defineConfig({
  locales: {
    "/en/": {
      lang: "en-US",
      title: "My Site",
      description: "My site",
    },
    "/zh/": {
      lang: "zh-CN",
      title: "æˆ‘çš„ç«™ç‚¹",
      description: "æˆ‘çš„ç«™ç‚¹",
    },
  },
});
```

---

**Step 3**

æ·»åŠ å¯¼èˆªæ é…ç½®ï¼š

```ts config.ts focus=1:10
function getNavbar(lang: "zh" | "en") {
  const { getLink, getText } = getI18nHelper(lang);

  return [
    {
      text: getText("ä¸»é¡µ", "Home"),
      link: getLink("/"),
    },
  ];
}

export default defineConfig({
  locales: {
    "/en/": {
      lang: "en-US",
      title: "My Site",
      description: "My site",
      // focus
      navbar: getNavbar("en"),
    },
    "/zh/": {
      lang: "zh-CN",
      title: "æˆ‘çš„ç«™ç‚¹",
      description: "æˆ‘çš„ç«™ç‚¹",
      // focus
      navbar: getNavbar("zh"),
    },
  },
});
```

---

**Step 4**

æ·»åŠ ä¾§è¾¹æ é…ç½®ï¼š

```ts config.ts focus=1:17
function getSidebar(lang: "zh" | "en") {
  const { getLink, getText } = getI18nHelper(lang);

  return {
    [getLink("/guide/")]: [
      {
        text: getText("ä»‹ç»", "Getting Started"),
        items: [
          {
            text: getText("å¿«é€Ÿå¼€å§‹", "Getting Started"),
            link: getLink("/guide/getting-started"),
          },
        ],
      },
    ],
  };
}

export default defineConfig({
  locales: {
    "/en/": {
      lang: "en-US",
      title: "My Site",
      description: "My site",
      navbar: getNavbar("en"),
      // focus
      sidebar: getSidebar("en"),
    },
    "/zh/": {
      lang: "zh-CN",
      title: "æˆ‘çš„ç«™ç‚¹",
      description: "æˆ‘çš„ç«™ç‚¹",
      navbar: getNavbar("zh"),
      // focus
      sidebar: getSidebar("zh"),
    },
  },
});
```

---

**Step 5**

è°ƒæ•´é¡¹ç›®ç›®å½•ç»“æ„ï¼š

```bash focus=2:9
docs
â”œâ”€â”€ en
â”‚   â”œâ”€â”€ guide
â”‚   â”‚   â””â”€â”€ getting-started.md
â”‚   â””â”€â”€ index.md
â””â”€â”€ zh
    â”œâ”€â”€ guide
    â”‚   â””â”€â”€ getting-started.md
    â””â”€â”€ index.md
```

---

</CH.Spotlight>

å½“ä½ å¯åŠ¨é¡¹ç›®è®¿é—® `/zh/` æ—¶ï¼Œä½ ä¼šå‘ç°ä¾§è¾¹æ å’Œå¯¼èˆªæ å·²ç»è¢«è‡ªåŠ¨åˆ‡æ¢æˆäº†ä¸­æ–‡ï¼ŒåŒç†ï¼Œè®¿é—® `/en/` æ—¶ï¼Œä¾§è¾¹æ å’Œå¯¼èˆªæ ä¼šè¢«è‡ªåŠ¨åˆ‡æ¢æˆè‹±æ–‡ã€‚

ğŸ˜„ æœ€åï¼Œåœ¨è°ƒæ•´åçš„ç›®å½•ä¸­ç¼–å†™å¯¹åº”è¯­è¨€çš„æ–‡æ¡£å³å¯ã€‚
